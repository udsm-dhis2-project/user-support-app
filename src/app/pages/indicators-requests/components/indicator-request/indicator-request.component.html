<div
  class="w-100"
  *ngIf="{
    translations: translations$ | async,
    indicatorTypes: indicatorTypes$ | async
  } as params"
>
  <mat-progress-bar mode="indeterminate" *ngIf="!params?.indicatorTypes">
  </mat-progress-bar>
  <div
    class="w-100"
    *ngIf="
      currentUser?.keyedAuthorities['ALL'] ||
      currentUser?.keyedAuthorities['US_INDICATOR_REQUEST']
    "
  >
    <mat-tab-group>
      <mat-tab
        label="{{
          params?.translations && params?.translations['Requests']
            ? params?.translations['Requests']
            : 'Requests'
        }}"
        *ngIf="currentUser?.keyedAuthorities['ALL']"
      >
        <ng-template matTabContent>
          <div class="p-3">
            <app-indicators-requests-list
              [systemConfigs]="systemConfigs"
              [configurations]="configurations"
              [currentUser]="currentUser"
            ></app-indicators-requests-list>
          </div>
        </ng-template>
      </mat-tab>
      <mat-tab
        label="{{
          params?.translations && params?.translations['Requesting']
            ? params?.translations['Requesting']
            : 'Requesting'
        }}"
        *ngIf="currentUser?.keyedAuthorities['ALL']"
      >
        <ng-template matTabContent>
          <div class="p-3">
            <app-form-manipulation
              *ngIf="params?.indicatorTypes"
              [systemConfigs]="systemConfigs"
              [indicatorTypes]="params?.indicatorTypes"
              [configurations]="configurations"
              [currentUser]="currentUser"
            ></app-form-manipulation>
          </div>
        </ng-template>
      </mat-tab>
    </mat-tab-group>
  </div>
  <div class="w-100" *ngIf="canRequest && !canApprove">
    <app-form-manipulation
      [systemConfigs]="systemConfigs"
      [configurations]="configurations"
      [currentUser]="currentUser"
    ></app-form-manipulation>
  </div>
  <div
    class="alert alert-warning"
    role="alert"
    *ngIf="!canRequest && !canApprove"
  >
    {{
      params?.translations &&
      params?.translations['You do not access to request or approve indicators']
        ? params?.translations[
            'You do not access to request or approve indicators'
          ]
        : 'You do not access to request or approve indicators'
    }}
  </div>
</div>
